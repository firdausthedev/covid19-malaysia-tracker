(this["webpackJsonpcovid-19-malaysia"]=this["webpackJsonpcovid-19-malaysia"]||[]).push([[0],{136:function(e,n,a){},154:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),i=a(14),c=a.n(i),l=a(30),o=a.n(l),s=a(54),m=a(3),d=a(24),u=a(11),h=a(4),p=a(5),g=a(55);function f(){var e=Object(h.a)(["\n  color: var(--primary-color);\n  display: inline-block;\n"]);return f=function(){return e},e}function b(){var e=Object(h.a)(["\n  text-align: center;\n  padding: 0.7rem 0rem;\n  border-radius: 10px;\n  margin: auto;\n  background: var(--white-color);\n  box-shadow: var(--box);\n  position: relative;\n  .animated {\n    display: inline-block;\n    position: absolute;\n    right: 0;\n    margin-top: 3px;\n    margin-right: 0.7rem;\n    text-align: right;\n    font-size: 1.4rem;\n    transition: 1.5s;\n  }\n  span {\n    i:hover {\n      animation: heartBeat 1s;\n      cursor: pointer;\n    }\n  }\n"]);return b=function(){return e},e}var v=p.a.div(b()),E=p.a.h2(f()),x=function(e){var n=e.darkModeFunc,a=e.darkMode,t=new Date,i="",c="";switch(t.getMonth()){case 0:i="Jan";break;case 1:i="Feb";break;case 2:i="Mar";break;case 3:i="Apr";break;case 4:i="May";break;case 5:i="Jun";break;case 6:i="Jul";break;case 7:i="Aug";break;case 8:i="Sep";break;case 9:i="Oct";break;case 10:i="Nov";break;default:i="Dec"}return c=1===t.getDate()?"st":2===t.getDate()?"nd":3===t.getDate()?"rd":"th",r.a.createElement(v,{id:"today-date"},r.a.createElement(E,null,"".concat(t.getDate()).concat(c," ").concat(i," ").concat(t.getFullYear())),r.a.createElement(g.Animated,{animationIn:"rollIn",isVisible:!0},r.a.createElement("span",{onClick:function(){return n(a)}},a?r.a.createElement("i",{className:"fas fa-moon"}):r.a.createElement("i",{className:"fas fa-sun"}))))};function y(){var e=Object(h.a)(["\n  display: block;\n  position: relative;\n  margin: auto;\n  width: 80px;\n  height: 40px;\n  div {\n    position: absolute;\n    top: 15px;\n    width: 13px;\n    height: 13px;\n    border-radius: 50%;\n    background: #fff;\n    animation-timing-function: cubic-bezier(0, 1, 1, 0);\n\n    &:nth-child(1) {\n      left: 8px;\n      animation: lds-ellipsis1 0.6s infinite;\n    }\n    &:nth-child(2) {\n      left: 8px;\n      animation: lds-ellipsis2 0.6s infinite;\n    }\n    &:nth-child(3) {\n      left: 32px;\n      animation: lds-ellipsis2 0.6s infinite;\n    }\n    &:nth-child(4) {\n      left: 56px;\n      animation: lds-ellipsis3 0.6s infinite;\n    }\n  }\n  @keyframes lds-ellipsis1 {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  @keyframes lds-ellipsis3 {\n    0% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0);\n    }\n  }\n  @keyframes lds-ellipsis2 {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(24px, 0);\n    }\n  }\n"]);return y=function(){return e},e}var k=function(e){return r.a.createElement("p",{className:e.loading?"loading-para":e.className},e.children)},j=function(e){return r.a.createElement("h2",{className:e.loading?"loading-header":e.className},e.children)},O=function(){return r.a.createElement(w,{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},w=p.a.div(y());function N(){var e=Object(h.a)(["\n  #country-name {\n    font-size: 1.4rem;\n    text-align: center;\n    margin: 0.5rem 0;\n    position: relative;\n    span {\n      img {\n        width: 2.2rem;\n        margin: auto 0.4rem;\n        cursor: pointer;\n      }\n      i {\n        font-size: 1.5rem;\n        position: absolute;\n        right: 0;\n        margin-top: 3px;\n        margin-right: 0.9rem;\n        text-align: right;\n      }\n    }\n  }\n  #card-container {\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: 10px;\n    .card {\n      background: var(--white-color);\n      display: flex;\n      height: 10rem;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      text-align: center;\n      border-radius: 6px;\n      box-shadow: var(--box);\n      h2 {\n        color: var(--primary-color);\n        font-size: 2.2rem;\n        margin: 0rem 0;\n      }\n      p {\n        font-size: 1.2rem;\n        color: #606470;\n      }\n      .text-green {\n        color: #639a67;\n      }\n      .text-red {\n        color: #f73859;\n      }\n    }\n  }\n  @media (max-width: 680px) {\n    #card-container {\n      grid-template-columns: repeat(3, 1fr);\n    }\n  }\n  @media (max-width: 588px) {\n    #card-container {\n      grid-template-columns: repeat(2, 1fr);\n\n      .card {\n        height: 8rem;\n        h2 {\n          font-size: 2rem;\n          margin: 0rem 0;\n        }\n        p {\n          font-size: 1rem;\n        }\n      }\n    }\n  }\n\n  @media (max-width: 420px) {\n    #country-name {\n      font-size: 1.1rem;\n    }\n    #card-container {\n      .card {\n        .loading-header {\n          width: 6rem;\n          height: 4rem;\n        }\n\n        height: 5rem;\n        h2 {\n          font-size: 1.3rem;\n        }\n      }\n    }\n  }\n"]);return N=function(){return e},e}var D=p.a.div(N()),S=function(e){var n=e.data,a=e.flag,t=e.history,i=e.loading,c=e.countryChange,l=(n.deaths/n.cases*100).toFixed(2),o=(n.recovered/n.cases*100).toFixed(2);return r.a.createElement(D,null,i?r.a.createElement(O,null):r.a.createElement("h2",{id:"country-name"},n.country,r.a.createElement("span",null,r.a.createElement("img",{src:a,alt:n.country,className:"img-flag",onClick:c}))),r.a.createElement("div",{id:"card-container"},r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},n.cases),r.a.createElement(k,{loading:i},"Confirmed Cases")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},0===n.todayCases?function(e){if(!i){var n=Object.values(t[e-1]),a=Object.values(t[e-2]);return n[1]-a[1]}}(t.length):n.todayCases),r.a.createElement(k,{loading:i},"New Cases")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},n.active),r.a.createElement(k,{loading:i},"Active cases")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},n.recovered),r.a.createElement(k,{loading:i,className:"text-green"},"Recovered")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},0===n.critical?n.tests:n.critical),r.a.createElement(k,{loading:i},0===n.critical?"Tests Conducted":"Criticals")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},n.deaths),r.a.createElement(k,{loading:i,className:"text-red"},"Total Deaths")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},l,"%"),r.a.createElement(k,{loading:i},"Fatality Rate")),r.a.createElement("div",{className:"card"},r.a.createElement(j,{loading:i},o,"%"),r.a.createElement(k,{loading:i},"Recovery Rate"))))},C=a(59);function z(){var e=Object(h.a)(["\n  border-radius: 10px;\n  box-shadow: var(--box);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1.2rem;\n\n  h2 {\n    background: var(--darkish-color);\n    color: var(--white-color);\n    flex: 15%;\n    align-content: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 5px;\n  }\n\n  div {\n    padding: 10px 0;\n    background: var(--white-color);\n    max-height: 20rem;\n    text-align: center;\n    li {\n      font-size: 1.2rem;\n      list-style-type: none;\n\n      span {\n        color: var(--danger-color);\n        margin-left: 10px;\n      }\n    }\n  }\n  @media (max-width: 480px) {\n    margin-bottom: 1.2rem;\n    h2 {\n      font-size: 1rem;\n    }\n    div li {\n      font-size: 1rem;\n    }\n  }\n"]);return z=function(){return e},e}var M=p.a.div(z()),T=function(e){var n=e.history,a=e.loading,t=e.title;return r.a.createElement(M,{id:"timeline"},r.a.createElement("h2",null,t),r.a.createElement("div",null,!a&&r.a.createElement(C.Scrollbars,{style:{height:300},autoHide:!0},n.map((function(e,a){return r.a.createElement("li",{key:e[0]},(t=e[0],new Date(t).toUTCString()).substr(5,12)," : ",r.a.createElement("strong",null,e[1]),r.a.createElement("span",null,function(e,n,a){return 0===a||e[1]-n[1]===0?"":"+".concat(e[1]-n[1])}(e,n[a-1],a)));var t})).reverse())))};function F(){var e=Object(h.a)(["\n  text-align: center;\n  display: inline-block;\n  text-decoration: none;\n  color: var(--primary-color);\n  font-size: 1.2rem;\n  font-weight: bold;\n  border-radius: 10px;\n  padding: 0.4rem 2rem;\n  background: var(--accent-color);\n  box-shadow: var(--box);\n  @media (max-width: 480px) {\n    font-size: 0.8rem;\n    padding: 0.3rem 1.8rem;\n    border-radius: 8px;\n  }\n"]);return F=function(){return e},e}var I=Object(p.a)(d.b)(F()),J=function(e){return r.a.createElement(I,e,e.children)};function G(){var e=Object(h.a)(["\n  padding: 1rem 0;\n  display: flex;\n  justify-content: space-between;\n\n  a:first-child {\n    background: var(--primary-color);\n    color: var(--white-color);\n    margin-right: 3px;\n  }\n"]);return G=function(){return e},e}var A=p.a.div(G()),R=function(e){var n=e.data,a=e.flag,t=e.history,i=e.loading,c=e.historyDeaths,l=e.showDeathsTimeline,o=e.setDeathTimeline,s=e.darkMode,m=e.darkModeFunc,d=e.countryChange;return r.a.createElement("div",{id:"total-cases"},r.a.createElement(x,{darkMode:s,darkModeFunc:m}),r.a.createElement(S,{data:n,flag:a,history:t,loading:i,countryChange:d}),r.a.createElement(A,{id:"btn-container"},r.a.createElement(J,{onClick:function(){return o(l)}},l?"Confirmed":"Deaths"," ",r.a.createElement("i",{className:"fas fa-sync-alt"})),r.a.createElement(J,{to:"/graph"},"Graphs ",r.a.createElement("i",{className:"fas fa-arrow-right"}))),!l&&r.a.createElement(T,{history:t,title:"Timeline: Confirmed Cases",loading:i}),l&&r.a.createElement(T,{title:"Timeline: Deaths",history:c,loading:i}))};a(136);function Y(){var e=Object(h.a)(["\n  background-color: var(--darkish-color);\n  color: var(--primary-color);\n"]);return Y=function(){return e},e}function B(){var e=Object(h.a)(["\n  max-width: 1100px;\n  margin: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.7rem 2rem;\n  z-index: 1;\n  width: 100%;\n  opacity: 0.9;\n  margin-bottom: 1.5rem;\n\n  ul {\n    list-style: none;\n    display: flex;\n  }\n\n  a {\n    color: var(--white-color);\n    background-color: var(--darkish-color);\n    padding: 0.5rem 1rem;\n    border-radius: 10px;\n    margin: 0 0.25rem;\n    text-decoration: none;\n\n    &:hover {\n      background: var(--white-color);\n      color: var(--primary-color);\n      transition: 1s;\n    }\n  }\n\n  .title-wrapper {\n    background: var(--white-color);\n    padding: 0.5rem 1rem;\n    border-radius: 10px;\n\n    h2 {\n      font-size: 1.2rem;\n    }\n\n    i {\n      transform: scale(1);\n      animation: pulse 2s linear infinite;\n    }\n    @keyframes pulse {\n      0% {\n        transform: scale(1.3);\n      }\n\n      70% {\n        transform: scale(1);\n      }\n\n      100% {\n        transform: scale(1.3);\n      }\n    }\n  }\n\n  @media (max-width: 480px) {\n    flex-direction: column;\n    .title-wrapper {\n      border-radius: 10px;\n      margin-bottom: 1rem;\n      h2 {\n        font-size: 0.8rem;\n      }\n    }\n    a {\n      margin: 2rem 0.25rem;\n    }\n  }\n"]);return B=function(){return e},e}var P=function(e){var n=e.icon,a=e.title;return r.a.createElement(_,{id:"navbar"},r.a.createElement(H,null,r.a.createElement("div",{className:"title-wrapper"},r.a.createElement("h2",null,r.a.createElement("i",{className:n})," ",a)),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/firdausthedev/covid19-malaysia-tracker",rel:"noopener noreferrer",target:"_blank"},r.a.createElement("li",{className:"fab fa-github"})," Check out codes")))))};P.defaultProps={title:"Covid-19 MY Tracker",icon:"fas fa-virus"};var H=p.a.nav(B()),_=p.a.div(Y()),U=P,V=a(19);function q(){var e=Object(h.a)(["\n  margin-bottom: 1.5rem;\n  #title {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    padding: 0.8rem 0;\n\n    div {\n      display: inline-block;\n      margin: auto 0;\n    }\n    h2 {\n      text-align: center;\n      display: inline-block;\n    }\n  }\n\n  #last-h2 {\n    text-align: center;\n    padding: 0.8rem 0;\n  }\n\n  @media (max-width: 480px) {\n    #title h2 {\n      font-size: 1rem;\n    }\n\n    #title div a {\n      font-size: 0.8rem;\n      padding: 0.3rem 1.8rem;\n      border-radius: 8px;\n    }\n\n    #last-h2 {\n      font-size: 1rem;\n    }\n  }\n"]);return q=function(){return e},e}var K=p.a.div(q()),L=function(e){var n=e.dataGraph,a=e.historyDeaths,i=e.darkMode,c=Object(t.useState)([]),l=Object(m.a)(c,2),o=l[0],s=l[1],d=Object(t.useState)([]),u=Object(m.a)(d,2),h=u[0],p=u[1],g=Object(t.useState)([]),f=Object(m.a)(g,2),b=f[0],v=f[1],E=Object(t.useState)([]),x=Object(m.a)(E,2),y=x[0],k=x[1],j=Object(t.useState)({}),O=Object(m.a)(j,2),w=O[0],N=O[1],D=Object(t.useState)({}),S=Object(m.a)(D,2),C=S[0],z=S[1],M=Object(t.useState)({}),T=Object(m.a)(M,2),F=T[0],I=T[1],G=Object(t.useState)({}),A=Object(m.a)(G,2),R=A[0],Y=A[1];Object(t.useEffect)((function(){P(n,a)}),[]);var B=function(e,n,a){return 0===a||e[1]-n[1]===0?0:e[1]-n[1]},P=function(e,n){var a=e.map((function(e){return e[1]})),t=e.map((function(n,a){return B(n,e[a-1],a)})),r=n.map((function(e){return e[1]})),c=n.map((function(e,a){return B(e,n[a-1],a)}));p(t),s(a),v(r),k(c),N({theme:i?"dark":"light",type:"line",series:[{values:a}]}),z({theme:i?"dark":"light",type:"bar",series:[{values:t}]}),I({theme:i?"dark":"light",type:"bar",series:[{values:r}]}),Y({theme:i?"dark":"light",type:"bar",series:[{values:c}]})};return r.a.createElement(K,{id:"graph"},r.a.createElement("div",{id:"title"},r.a.createElement("div",null,r.a.createElement(J,{to:"/"},"Back")),r.a.createElement("h2",null,"Total Confirmed Cases by Day"),r.a.createElement("div",null)),o.length>0?r.a.createElement(V.a,{data:w}):"",r.a.createElement("h2",{id:"last-h2"},"Total New Cases by Day"),h.length>0?r.a.createElement(V.a,{data:C}):"",r.a.createElement("h2",{id:"last-h2"},"Total Deaths by Day"),b.length>0?r.a.createElement(V.a,{data:F}):"",r.a.createElement("h2",{id:"last-h2"},"Total New Deaths by Day"),y.length>0?r.a.createElement(V.a,{data:R}):"")},Q=a(20),W=a.n(Q),X=a(33);a(153);var Z=function(){var e=Object(t.useState)({}),n=Object(m.a)(e,2),a=n[0],i=n[1],c=Object(t.useState)(""),l=Object(m.a)(c,2),h=l[0],p=l[1],g=Object(t.useState)(!0),f=Object(m.a)(g,2),b=f[0],v=f[1],E=Object(t.useState)([]),x=Object(m.a)(E,2),y=x[0],k=x[1],j=Object(t.useState)([]),O=Object(m.a)(j,2),w=O[0],N=O[1],D=Object(t.useState)(!1),S=Object(m.a)(D,2),C=S[0],z=S[1],M=Object(t.useState)(0),T=Object(m.a)(M,2),F=T[0],I=T[1],J=["MY","ID","SG","TH"],G=Object(t.useState)(J[F]),A=Object(m.a)(G,2),Y=A[0],B=A[1],P=Object(t.useState)(JSON.parse(localStorage.getItem("dark"))||!1),H=Object(m.a)(P,2),_=H[0],V=H[1];Object(t.useEffect)((function(){Q(Y),q()}),[_]);var q=function(){localStorage.setItem("dark",JSON.stringify(_))},K=function(){v(!0),F<3?(I(F+=1),B(J[F]),Q(J[F])):(I(0),B(J[0]),Q(J[0]))},Q=function(){var e=Object(s.a)(o.a.mark((function e(n){var a,t,r,c,l,s,d,u,h,g,f,b,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([W.a.get("https://corona.lmao.ninja/v2/countries/"+n),W.a.get("https://coronavirus-tracker-api.herokuapp.com/v2/locations?country_code="+n+"&timelines=true")]);case 3:a=e.sent,t=Object(m.a)(a,2),r=t[0],c=t[1],l=r.data.countryInfo.flag,p(l),i(r.data),s=c.data.locations[0].timelines.confirmed.timeline,d=c.data.locations[0].timelines.deaths.timeline,k(Object.entries(s)),N(Object.entries(d)),v(!1),e.next=52;break;case 17:e.prev=17,e.t0=e.catch(0),e.prev=19,console.log(n),u=0,e.t1=n,e.next="MY"===e.t1?25:"ID"===e.t1?27:"SG"===e.t1?29:31;break;case 25:return u=153,e.abrupt("break",32);case 27:return u=132,e.abrupt("break",32);case 29:return u=196,e.abrupt("break",32);case 31:u=209;case 32:return e.next=34,W.a.get("https://corona.lmao.ninja/v2/countries/"+n);case 34:return h=e.sent,g=h.data.countryInfo.flag,p(g),i(h.data),e.next=40,W.a.get("https://coronavirus-tracker-api.herokuapp.com/v2/locations/"+u);case 40:f=e.sent,b=f.data.location.timelines.confirmed.timeline,E=f.data.location.timelines.deaths.timeline,k(Object.entries(b)),N(Object.entries(E)),v(!1),e.next=52;break;case 48:e.prev=48,e.t2=e.catch(19),console.log(e.t2),X.b.error("Server Error. Please come back later..");case 52:case"end":return e.stop()}}),e,null,[[0,17],[19,48]])})));return function(n){return e.apply(this,arguments)}}(),Z=function(e){z(!e)},$=function(e){V(!e)};return r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",{className:_?"app dark-mode":"app light-mode"},r.a.createElement(U,null),r.a.createElement("div",{className:"container"},r.a.createElement(X.a,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(R,Object.assign({},e,{data:a,flag:h,loading:b,history:y,historyDeaths:w,showDeathsTimeline:C,setDeathTimeline:Z,darkModeFunc:$,darkMode:_,countryChange:K}))}}),r.a.createElement(u.a,{exact:!0,path:"/graph",render:function(e){return r.a.createElement(L,Object.assign({},e,{dataGraph:y,historyDeaths:w,darkMode:_}))}}),r.a.createElement(u.a,{render:function(e){return r.a.createElement(R,Object.assign({},e,{data:a,flag:h,loading:b,history:y,historyDeaths:w,showDeathsTimeline:C,setDeathTimeline:Z,darkModeFunc:$,darkMode:_,countryChange:K}))}})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root"))},62:function(e,n,a){e.exports=a(154)}},[[62,1,2]]]);
//# sourceMappingURL=main.3033e3fe.chunk.js.map